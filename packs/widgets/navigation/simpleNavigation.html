<style>
@font-face {
  font-family: 'FontAwesome';
  src: url('/widget/navigation/font-awesome-4.7.0/fonts/fontawesome-webfont.eot?v=4.7.0');
  src: url('/widget/navigation/font-awesome-4.7.0/fonts/fontawesome-webfont.eot?#iefix&v=4.7.0') format('embedded-opentype'), url('/widget/navigation/font-awesome-4.7.0/fonts/fontawesome-webfont.woff2?v=4.7.0') format('woff2'), url('/widget/navigation/font-awesome-4.7.0/fonts/fontawesome-webfont.woff?v=4.7.0') format('woff'), url('/widget/navigation/font-awesome-4.7.0/fonts/fontawesome-webfont.ttf?v=4.7.0') format('truetype'), url('/widget/navigation/font-awesome-4.7.0/fonts/fontawesome-webfont.svg?v=4.7.0#fontawesomeregular') format('svg');
  font-weight: normal;
  font-style: normal;
}
</style>

<dom-module id="dmw-navigation-simplenavigation">
    <template id="extended-styles">
        <link rel="stylesheet" href="/widget/navigation/font-awesome-4.7.0/css/font-awesome.min.css">
        <style type="text/css">
            :host {
                height: 100%;
            }
            button {
                position: absolute;
                display: block;
                border-style: none;
                width: 80%;
                height: 80%;
                top: 15%;
                left: 15%;
                background-color: transparent;
            }
        </style>
        <!-- <button id="goto" class=""><i class="fa fa-{{icon}} fa-2x"></i></button> -->   <!-- I don't understand why the icon doesn't display with this line -->
        <button id="goto"><i class="fa fa-external-link fa-2x"></i></button>
    </template>
    
    <script>
     (function () {
        let memoizedTemplate;

        class Dmw extends DmwWidget {
            static get is () { return 'dmw-navigation-simplenavigation'; }
            
            static get template() {
              if (!memoizedTemplate) {
                // start with clone of superclass template
                memoizedTemplate = DmwWidget.template.cloneNode(true);
                // get some stuff you want to insert into super template
                const subStyle = Polymer.DomModule.import(this.is, 'template#extended-styles').content;
                // insert stuff in template after the super template's <style>
                const superStyle = memoizedTemplate.content.querySelector('style');
                superStyle.parentNode.insertBefore(subStyle, superStyle.nextSibling);
              }
              return memoizedTemplate;
            }
            
            constructor() {
                super();
                this.ratioConstraint = 'width';
            }
            
            connectedCallback() {
                super.connectedCallback();
                this.$.goto.addEventListener('click', this.goto.bind(this));
            }
            
            optionsUpdated() {
                if (this.options['WidgetTextColor'] == undefined) {
                    this.$.goto.style.color = "#ffffff";
                } 
                else {
                    this.$.goto.style.color = this.options['WidgetTextColor'];
                }
                console.error("faIcon: " + this.options['faIcon']) ;
                this.icon = this.options['faIcon'];
            }
            
            goto(e) {
                DMW.main.section.setAttribute('sectionid', this.options['targetSection']);
                e.preventDefault();
                e.stopPropagation();
            }
	    };
    customElements.define(Dmw.is, Dmw);
    })();
    </script>
</dom-module>
